<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="YEcXEB8SDXy-ZzorhMOtipKg6gA8VH4AKy19RNxG6d8" />
    <title>Temporary Email Generator</title>
</head>
<body>
    <h1>Free Temporary Email</h1>

    <button onclick="generateEmail()">Generate Email</button>
    <p>Email: <span id="email"></span></p>
    <input type="text" id="email-box" readonly>
    <p>Password (if needed): <span id="password"></span></p>

    <button onclick="checkInbox()">Check Inbox</button>
    <pre id="messages"></pre>

    <script>
        let token = "";
        let email = "";

        async function generateEmail() {
            let service = Math.floor(Math.random() * 3); // Random API selection

            if (service === 0) {
                await generateMailTm();
            } else if (service === 1) {
                await generateSecMail();
            } else {
                await generateTempMail();
            }
        }

        // 1. Mail.tm API
        async function generateMailTm() {
            let domain = "mail.tm";
            let username = Math.random().toString(36).substring(7) + "@" + domain;
            let password = Math.random().toString(36).substring(7);

            let registerResponse = await fetch("https://api.mail.tm/accounts", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ address: username, password: password })
            });

            if (registerResponse.ok) {
                let loginResponse = await fetch("https://api.mail.tm/token", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ address: username, password: password })
                });

                let loginData = await loginResponse.json();
                token = loginData.token;
                email = username;

                document.getElementById("email").innerText = username;
                document.getElementById("email-box").value = username;
                document.getElementById("password").innerText = password;
            } else {
                alert("Mail.tm failed. Trying another service...");
                await generateSecMail();
            }
        }

        // 2. 1SecMail API
        async function generateSecMail() {
            let domains = ["1secmail.com", "1secmail.net", "1secmail.org"];
            let username = Math.random().toString(36).substring(7);
            let domain = domains[Math.floor(Math.random() * domains.length)];
            email = username + "@" + domain;

            document.getElementById("email").innerText = email;
            document.getElementById("email-box").value = email;
            document.getElementById("password").innerText = "Not required";

            token = username; // No real token needed
        }

        // 3. Temp-Mail API (Read-Only, No Account Creation)
        async function generateTempMail() {
            let response = await fetch("https://www.1secmail.com/api/v1/?action=genRandomMailbox");
            let data = await response.json();
            email = data[0];

            document.getElementById("email").innerText = email;
            document.getElementById("email-box").value = email;
            document.getElementById("password").innerText = "Not required";

            token = email.split("@")[0]; // No real token needed
        }

        // Check Inbox (Mail.tm Only)
        async function checkInbox() {
            if (!token) {
                alert("Generate an email first!");
                return;
            }

            let inboxResponse = await fetch("https://api.mail.tm/messages", {
                headers: { "Authorization": "Bearer " + token }
            });

            let inboxData = await inboxResponse.json();
            document.getElementById("messages").innerText = JSON.stringify(inboxData, null, 2);
        }
    </script>
</body>
</html>
